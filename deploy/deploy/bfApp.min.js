/*! bitflower bfApp 
 * Version: 1.2
 * Author: Matthias Max
 * Copyright bitflower 2014
 *
 * Change Log:
 * -----------
 * 2014-04-23:
 * - addImageToLoad: pr�fen, ob Container/Image paar bereits hinzugef�gt
 * - getTemplate (Mustache)
 *
 * 2014-04-21:
 * - loadImages: class & id checken bei IMG
 * - isJSON Funktion
 *
 * 2014-04-11:
 * - partition Funktion zum splitten von Arrays
 *
 * 2014-04-02:
 * - Variable f�r Wordpress Template URL
 *
 * 2014-02-21:
 * - loadImages: Option to load into DIV container or IMG
 * - pad (neu): Leading zero for number
 * - get Footer-/Header Height mit outerHoight
 * - round (neu)
*/
;var bfApp=(function(){var l=navigator.userAgent.indexOf("iPhone")!=-1;var e=navigator.userAgent.indexOf("iPod")!=-1;var c=navigator.userAgent.indexOf("iPad")!=-1;var d=navigator.userAgent.indexOf("Safari")!=-1;var g=navigator.userAgent.toLowerCase().indexOf("android")>=0;var h;var a;var f=0;var b=[];var j;function k(n,m){if(!m){return n}else{return n+m}}return{setHeader:function(m){h=m},setFooter:function(m){a=m},setVerticalBuffer:function(m){f=m},getWindowHeight:function(m){return k($(window).height(),m)},getWindowWidth:function(m){return k($(window).width(),m)},getHeaderHeight:function(n){var m=0;h.each(function(o){m=m+$(this).outerHeight()});return k(m,n)},getFooterHeight:function(n){var m=0;a.each(function(o){m=m+$(this).outerHeight()});return k(m,n)},getContentHeight:function(o){var m=0;var n=this.getWindowHeight();var q=this.getHeaderHeight();var p=this.getFooterHeight();m=n-q-p-f;return k(m,o)},onWindowResized:function(o){function m(){if(typeof(o)=="function"){o()}}var n;window.onresize=function(){clearTimeout(n);n=setTimeout(m,150)}},isIOS:function(){return l||c||e},isIPad:function(){return c},isIPod:function(){return e},isIPhone:function(){return l},isAppleBrower:function(){return l||c||e||d},getClickEventName:function(){if(this.isIOS()){return"touchstart"}else{return"click"}},isAndroid:function(){return g},fadeInChain:function(n,o){var m=$(".bfFadeInChain").length;$(".bfFadeInChain").each(function(p){$(this).delay(n*p).queue(function(){$(this).addClass("bfFadeIn").dequeue();if(p==m-1){if(typeof(o)=="function"){o()}}})})},addImageToLoad:function(n,o,p,m){if(!m){m="all"}if(!b[m]){b[m]=[]}for(i=0;i<b[m].length;++i){if(b[m][i][0]==n&&b[m][i][1]==o){return}}b[m].push([n,o,p])},loadImages:function(s,u,q,x,o,r,v){var w=this;if(!v){v="all"}if(s>=b[v].length){if(typeof(x)=="function"){x()}return}var p=new Image();var n=b[v][s];var m=n[2];p.onerror=function(){if(typeof(o)=="function"){o(s+1,b[v].length,m)}w.loadImages(s+1,u,q,x,o,r,v)};p.onload=function(){if(!r){var z;var y;if($("."+n[q]).length>0){z=$("."+n[q]).get(0).tagName;y="."}else{if($("#"+n[q]).length>0){z=$("#"+n[q]).get(0).tagName;y="#"}}switch(z){case"DIV":$("div"+y+n[q]).css("background-image","url("+n[u]+")");break;case"IMG":$("img"+y+n[q]).attr("src",n[u]);break;default:break}}if(typeof(o)=="function"){o(s+1,b[v].length,p,m)}w.loadImages(s+1,u,q,x,o,r,v)};try{if(n[u]!=""){p.src=n[u]}else{if(typeof(o)=="function"){o(s+1,b[v].length,null,m)}w.loadImages(s+1,u,q,x,o,r,v)}}catch(t){if(typeof(o)=="function"){o(s+1,b[v].length,null,m)}w.loadImages(s+1,u,q,x,o,r,v)}finally{}},pad:function(n,m,o){o=o||"0";n=n+"";return n.length>=m?n:new Array(m-n.length+1).join(o)+n},round:function(n,m){switch(m){case 1:return Math.round(n*10)/10;break;case 2:return Math.round(n*100)/100;break;case 3:return Math.round(n*1000)/1000;break;default:return Math.round(n*100)/100;break}},setWPUrl:function(m){j=m},getWPUrl:function(m){return j},sliceArray:function(m,o){var n=[];while(m.length){n.push(m.splice(0,o))}return n},isJsonString:function(n){try{JSON.parse(n)}catch(m){return false}return true},getTemplateFromStorage:function(m,o,p){var n=sessionStorage.getItem(m);if(n==null){$.get(o,function(q){sessionStorage.setItem(m,q);if(p&&typeof(p)==="function"){p(q)}})}else{if(p&&typeof(p)==="function"){p(n)}}}}})();